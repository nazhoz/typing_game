const word = document.getElementById("word");
const text = document.getElementById("text");
const scoreElement = document.getElementById("score");
const timeElement = document.getElementById("time");
const endgameElement = document.getElementById("end-game-container");
const settingsButton = document.getElementById("settings-btn");
const settings = document.getElementById("settings");
const settingsForm = document.getElementById("settings-form");
const difficultySelect = document.getElementById("difficulty");

// List of words for game
const words = [
  "sigh",
  "tense",
  "airplane",
  "ball",
  "pies",
  "juice",
  "warlike",
  "bad",
  "north",
  "dependent",
  "steer",
  "silver",
  "highfalutin",
  "superficial",
  "quince",
  "eight",
  "feeble",
  "admit",
  "drag",
  "loving",
  "apple",
  "banana",
  "candle",
  "dream",
  "energy",
  "freedom",
  "growth",
  "happiness",
  "island",
  "jungle",
  "kite",
  "lemon",
  "mountain",
  "night",
  "orange",
  "peace",
  "quiet",
  "river",
  "sun",
  "tree",
  "umbrella",
  "victory",
  "whale",
  "xenon",
  "yarn",
  "zebra",
  "art",
  "book",
  "car",
  "dance",
  "echo",
  "forest",
  "glow",
  "hope",
  "idea",
  "jewel",
  "kind",
  "laugh",
  "moon",
  "nest",
  "ocean",
  "pencil",
  "quest",
  "rose",
  "smile",
  "train",
  "unity",
  "value",
  "wish",
  "xylophone",
  "youth",
  "zoo",
  "actor",
  "brave",
  "circle",
  "dust",
  "eagle",
  "flame",
  "giant",
  "hill",
  "ice",
  "jacket",
  "kick",
  "light",
  "magic",
  "name",
  "open",
  "play",
  "quick",
  "road",
  "star",
  "time",
  "use",
  "voice",
  "walk",
  "x-ray",
  "year",
  "zone",
  "alarm",
  "brisk",
  "chase",
  "dare",
  "enter",
  "fame",
  "grace",
  "honor",
  "iron",
  "jump",
  "keen",
  "limit",
  "mild",
  "note",
  "order",
  "plant",
  "query",
  "reach",
  "sight",
  "trust",
  "urge",
  "vast",
  "win",
  "yell",
  "zip",
  "angle",
  "blink",
  "climb",
  "drive",
  "erase",
  "fix",
  "grind",
  "hover",
  "inspect",
  "jog",
  "kneel",
  "leap",
  "mix",
  "nod",
  "obey",
  "push",
  "quit",
  "race",
  "sniff",
  "talk",
  "untie",
  "view",
  "wiggle",
  "yank",
  "zoom",
  "ant",
  "bee",
  "cat",
  "dog",
  "elk",
  "fox",
  "goat",
  "hen",
  "ibis",
  "jay",
  "koala",
  "lion",
  "mole",
  "newt",
  "owl",
  "pig",
  "quail",
  "rat",
  "shark",
  "toad",
  "urchin",
  "vulture",
  "wolf",
  "yak",
  "adder",
  "bat",
  "cobra",
  "deer",
  "eel",
  "falcon",
  "gull",
  "heron",
  "iguana",
  "jackal",
  "kangaroo",
  "lemur",
  "moose",
  "narwhal",
  "octopus",
  "panther",
  "quokka",
  "raven",
  "seal",
  "tiger",
  "urchin",
  "viper",
  "walrus",
  "xerus",
  "yellowtail",
  "zebu",
  "breeze",
  "cloud",
  "drizzle",
  "earth",
  "fog",
  "gust",
  "hail",
  "iceberg",
  "jetstream",
  "knot",
  "lightning",
  "mist",
  "nebula",
  "overcast",
  "precipice",
  "quasar",
  "rain",
  "snow",
  "thunder",
  "updraft",
  "volcano",
  "wind",
  "avalanche",
  "blizzard",
  "cyclone",
  "drought",
  "eclipse",
  "flood",
  "glacier",
  "heatwave",
  "inversion",
  "jet",
  "kinetic",
  "lava",
  "monsoon",
  "nimbus",
  "ozone",
  "puddle",
  "quake",
  "rift",
  "storm",
  "tempest",
  "tornado",
  "tsunami",
  "uplift",
  "vortex",
  "waterspout",
  "whirlwind",
  "yeti",
  "zenith",
  "accord",
  "brilliance",
  "clarity",
  "dedicate",
  "effort",
  "focus",
  "gather",
  "honest",
  "impact",
  "journey",
  "karma",
  "lesson",
  "mentor",
  "noble",
  "optimism",
  "patience",
  "quality",
  "resolve",
  "sincere",
  "truth",
  "uplift",
  "virtue",
  "wisdom",
  "zen",
  "adapt",
  "balance",
  "calm",
  "discipline",
  "empathy",
  "faith",
  "gratitude",
  "humble",
  "intellect",
  "justice",
  "kindness",
  "loyalty",
  "mindful",
  "nurture",
  "openness",
  "purpose",
  "respect",
  "strength",
  "tranquil",
  "understand",
  "vigilant",
  "worthy",
  "yearn",
  "zeal",
  "artifact",
  "battery",
  "circuit",
  "device",
  "engine",
  "fiber",
  "gadget",
  "hardware",
  "input",
  "joystick",
  "keyboard",
  "lens",
  "microchip",
  "node",
  "oscillator",
  "processor",
  "quantum",
  "robot",
  "sensor",
  "transistor",
  "unit",
  "voltage",
  "wafer",
  "xcode",
  "yield",
  "zipper",
  "archive",
  "binary",
  "compile",
  "debug",
  "encrypt",
  "format",
  "gigabyte",
  "host",
  "index",
  "java",
  "kernel",
  "logic",
  "malware",
  "network",
  "object",
  "packet",
  "queue",
  "render",
  "script",
  "token",
  "upload",
  "virtual",
  "web",
  "xml",
  "yaml",
  "zonefile",
  "air",
  "blue",
  "clear",
  "dark",
  "empty",
  "faint",
  "gold",
  "hard",
  "ideal",
  "joyful",
  "kindred",
  "lively",
  "mute",
  "narrow",
  "opaque",
  "plain",
  "quietude",
  "rough",
  "smooth",
  "tidy",
  "unseen",
  "vivid",
  "warm",
  "xeric",
  "young",
  "zonal",
  "aim",
  "build",
  "clap",
  "dig",
  "emit",
  "fill",
  "grab",
  "hit",
  "ignite",
  "join",
  "knit",
  "lift",
  "mend",
  "nod",
  "own",
  "pack",
  "quote",
  "rest",
  "sit",
  "turn",
  "undo",
  "vote",
  "wait",
  "yawn",
  "zipline",
  "arch",
  "bend",
  "crack",
  "dive",
  "edge",
  "flip",
  "glide",
  "hop",
  "inch",
  "jolt",
  "kickstart",
  "lock",
  "move",
  "nudge",
  "openly",
  "pause",
  "quitely",
  "rise",
  "spin",
  "tap",
  "unwrap",
  "vanish",
  "wiggle",
  "yodel",
  "zooming",
];

let randomWord;
let score = 0;
let time = 10;
// let difficulty = "medium";
let difficulty =
  localStorage.getItem("difficulty") !== null
    ? localStorage.getItem("difficulty")
    : "medium";

const timeInterval = setInterval(updateTime, 1000);

function getRandomWord() {
  return words[Math.floor(Math.random() * words.length)];
}

function addWordToDom() {
  randomWord = getRandomWord();
  word.innerText = randomWord;
}

function updateScore() {
  score++;
  scoreElement.innerText = score;
}

function updateTime() {
  time--;
  timeElement.innerText = time + "s";
  if (time === 0) {
    clearInterval(timeInterval);
    gameOver();
  }
}

function gameOver() {
  endgameElement.innerHTML = `
    <h1>Time ran out</h1>
    <p>Your final score is ${score}</p>
    <button onclick="history.go(0)">Play Again</button>
    `;
  endgameElement.style.display = "flex";
}

text.addEventListener("input", (e) => {
  const insertedText = e.target.value;
  if (insertedText === randomWord) {
    e.target.value = "";
    addWordToDom();
    updateScore();
    if (difficulty === "hard") time += 2;
    else if (difficulty === "medium") time += 3;
    else time += 5;
    updateTime();
  }
});

settingsButton.addEventListener("click", () =>
  settings.classList.toggle("hide")
);
settingsForm.addEventListener("change", (e) => {
  difficulty = e.target.value;
  localStorage.setItem("difficulty", difficulty);
});

// Init
difficultySelect.value = difficulty;
addWordToDom();
text.focus();
