const word = document.getElementById("word");
const text = document.getElementById("text");
const scoreElement = document.getElementById("score");
const timeElement = document.getElementById("time");
const endgameElement = document.getElementById("end-game-container");
const settingsButton = document.getElementById("settings-btn");
const settings = document.getElementById("settings");
const settingsForm = document.getElementById("settings-form");
const difficultySelect = document.getElementById("difficulty");
const languageSelect = document.getElementById("language");

// Word lists
const englishWords = [
  "sigh",
  "tense",
  "airplane",
  "ball",
  "pies",
  "juice",
  "warlike",
  "bad",
  "north",
  "dependent",
  "steer",
  "silver",
  "highfalutin",
  "superficial",
  "quince",
  "eight",
  "feeble",
  "admit",
  "drag",
  "loving",
  "apple",
  "banana",
  "candle",
  "dream",
  "energy",
  "freedom",
  "growth",
  "happiness",
  "island",
  "jungle",
  "kite",
  "lemon",
  "mountain",
  "night",
  "orange",
  "peace",
  "quiet",
  "river",
  "sun",
  "tree",
  "umbrella",
  "victory",
  "whale",
  "xenon",
  "yarn",
  "zebra",
  "art",
  "book",
  "car",
  "dance",
  "echo",
  "forest",
  "glow",
  "hope",
  "idea",
  "jewel",
  "kind",
  "laugh",
  "moon",
  "nest",
  "ocean",
  "pencil",
  "quest",
  "rose",
  "smile",
  "train",
  "unity",
  "value",
  "wish",
  "xylophone",
  "youth",
  "zoo",
  "actor",
  "brave",
  "circle",
  "dust",
  "eagle",
  "flame",
  "giant",
  "hill",
  "ice",
  "jacket",
  "kick",
  "light",
  "magic",
  "name",
  "open",
  "play",
  "quick",
  "road",
  "star",
  "time",
  "use",
  "voice",
  "walk",
  "x-ray",
  "year",
  "zone",
  "alarm",
  "brisk",
  "chase",
  "dare",
  "enter",
  "fame",
  "grace",
  "honor",
  "iron",
  "jump",
  "keen",
  "limit",
  "mild",
  "note",
  "order",
  "plant",
  "query",
  "reach",
  "sight",
  "trust",
  "urge",
  "vast",
  "win",
  "yell",
  "zip",
  "angle",
  "blink",
  "climb",
  "drive",
  "erase",
  "fix",
  "grind",
  "hover",
  "inspect",
  "jog",
  "kneel",
  "leap",
  "mix",
  "nod",
  "obey",
  "push",
  "quit",
  "race",
  "sniff",
  "talk",
  "untie",
  "view",
  "wiggle",
  "yank",
  "zoom",
  "ant",
  "bee",
  "cat",
  "dog",
  "elk",
  "fox",
  "goat",
  "hen",
  "ibis",
  "jay",
  "koala",
  "lion",
  "mole",
  "newt",
  "owl",
  "pig",
  "quail",
  "rat",
  "shark",
  "toad",
  "urchin",
  "vulture",
  "wolf",
  "yak",
  "adder",
  "bat",
  "cobra",
  "deer",
  "eel",
  "falcon",
  "gull",
  "heron",
  "iguana",
  "jackal",
  "kangaroo",
  "lemur",
  "moose",
  "narwhal",
  "octopus",
  "panther",
  "quokka",
  "raven",
  "seal",
  "tiger",
  "urchin",
  "viper",
  "walrus",
  "xerus",
  "yellowtail",
  "zebu",
  "breeze",
  "cloud",
  "drizzle",
  "earth",
  "fog",
  "gust",
  "hail",
  "iceberg",
  "jetstream",
  "knot",
  "lightning",
  "mist",
  "nebula",
  "overcast",
  "precipice",
  "quasar",
  "rain",
  "snow",
  "thunder",
  "updraft",
  "volcano",
  "wind",
  "avalanche",
  "blizzard",
  "cyclone",
  "drought",
  "eclipse",
  "flood",
  "glacier",
  "heatwave",
  "inversion",
  "jet",
  "kinetic",
  "lava",
  "monsoon",
  "nimbus",
  "ozone",
  "puddle",
  "quake",
  "rift",
  "storm",
  "tempest",
  "tornado",
  "tsunami",
  "uplift",
  "vortex",
  "waterspout",
  "whirlwind",
  "yeti",
  "zenith",
  "accord",
  "brilliance",
  "clarity",
  "dedicate",
  "effort",
  "focus",
  "gather",
  "honest",
  "impact",
  "journey",
  "karma",
  "lesson",
  "mentor",
  "noble",
  "optimism",
  "patience",
  "quality",
  "resolve",
  "sincere",
  "truth",
  "uplift",
  "virtue",
  "wisdom",
  "zen",
  "adapt",
  "balance",
  "calm",
  "discipline",
  "empathy",
  "faith",
  "gratitude",
  "humble",
  "intellect",
  "justice",
  "kindness",
  "loyalty",
  "mindful",
  "nurture",
  "openness",
  "purpose",
  "respect",
  "strength",
  "tranquil",
  "understand",
  "vigilant",
  "worthy",
  "yearn",
  "zeal",
  "artifact",
  "battery",
  "circuit",
  "device",
  "engine",
  "fiber",
  "gadget",
  "hardware",
  "input",
  "joystick",
  "keyboard",
  "lens",
  "microchip",
  "node",
  "oscillator",
  "processor",
  "quantum",
  "robot",
  "sensor",
  "transistor",
  "unit",
  "voltage",
  "wafer",
  "xcode",
  "yield",
  "zipper",
  "archive",
  "binary",
  "compile",
  "debug",
  "encrypt",
  "format",
  "gigabyte",
  "host",
  "index",
  "java",
  "kernel",
  "logic",
  "malware",
  "network",
  "object",
  "packet",
  "queue",
  "render",
  "script",
  "token",
  "upload",
  "virtual",
  "web",
  "xml",
  "yaml",
  "zonefile",
  "air",
  "blue",
  "clear",
  "dark",
  "empty",
  "faint",
  "gold",
  "hard",
  "ideal",
  "joyful",
  "kindred",
  "lively",
  "mute",
  "narrow",
  "opaque",
  "plain",
  "quietude",
  "rough",
  "smooth",
  "tidy",
  "unseen",
  "vivid",
  "warm",
  "xeric",
  "young",
  "zonal",
  "aim",
  "build",
  "clap",
  "dig",
  "emit",
  "fill",
  "grab",
  "hit",
  "ignite",
  "join",
  "knit",
  "lift",
  "mend",
  "nod",
  "own",
  "pack",
  "quote",
  "rest",
  "sit",
  "turn",
  "undo",
  "vote",
  "wait",
  "yawn",
  "zipline",
  "arch",
  "bend",
  "crack",
  "dive",
  "edge",
  "flip",
  "glide",
  "hop",
  "inch",
  "jolt",
  "kickstart",
  "lock",
  "move",
  "nudge",
  "openly",
  "pause",
  "quitely",
  "rise",
  "spin",
  "tap",
  "unwrap",
  "vanish",
  "wiggle",
  "yodel",
  "zooming",
];

const malayalamWords = [
  "ഹലോ",
  "ലോകം",
  "കമ്പ്യൂട്ടർ",
  "കീബോർഡ്",
  "ഡെവലപ്പർ",
  "ഡിസൈൻ",
  "അപ്ലിക്കേഷൻ",
  "ഇന്റർനെറ്റ്",
  "ഫംഗ്ഷൻ",
  "സ്റ്റൈൽ",
  "ഭാഷ",
  "വേഗത",
  "പ്രകടനം",
  "ചലഞ്ച്",
  "പരിശീലനം",
  "സിന്റാക്സ്",
  "വേരിയബിൾ",
  "ഇവന്റ്",
  "മൗസ്",
  "സ്ക്രീൻ",
  "പുസ്തകം",
  "കുറിപ്പ്",
  "പാഠം",
  "വിദ്യാർത്ഥി",
  "അധ്യാപകൻ",
  "പരീക്ഷ",
  "വിജയം",
  "പരാജയം",
  "ശ്രദ്ധ",
  "ശ്രമം",
  "സഹായം",
  "സന്ദേശം",
  "സഞ്ചാരം",
  "സമയക്രമം",
  "സന്ദർശനം",
  "സംഗീതം",
  "സിനിമ",
  "നാടകം",
  "കവിത",
  "കഥ",
  "കമ്പനി",
  "പ്രോജക്ട്",
  "മീറ്റിംഗ്",
  "റിപ്പോർട്ട്",
  "പ്രസന്റേഷൻ",
  "ഡോക്യുമെന്റ്",
  "ഇമെയിൽ",
  "വെബ്സൈറ്റ്",
  "പാസ്വേഡ്",
  "ലോഗിൻ",
  "വെള്ളം",
  "ഭക്ഷണം",
  "കാപ്പി",
  "ചായ",
  "ഫലം",
  "പച്ചക്കറി",
  "മാംസം",
  "മീൻ",
  "അപ്പം",
  "ചോറു",
  "വീട്",
  "മുറി",
  "കിടപ്പുമുറി",
  "മേശ",
  "കസേര",
  "കത്ത",
  "വാതിൽ",
  "ജാലകം",
  "കത്തിയ",
  "വെളിച്ചം",
  "കാർ",
  "ബൈക്ക്",
  "ബസ്",
  "ട്രെയിൻ",
  "വിമാനം",
  "റോഡ്",
  "പാത",
  "പാലം",
  "സ്റ്റേഷൻ",
  "എയർപോർട്ട്",
  "ഡോക്ടർ",
  "ഹോസ്പിറ്റൽ",
  "മരുന്ന്",
  "ചികിത്സ",
  "രോഗം",
  "ആരോഗ്യം",
  "പരിശോധന",
  "നഴ്‌സ്",
  "ഓപ്പറേഷൻ",
  "ആംബുലൻസ്",
  "പോലീസ്",
  "സ്റ്റേഷൻ",
  "കോടതി",
  "നിയമം",
  "വക്കീൽ",
  "തീരുമാനം",
  "തടവ്",
  "കുറ്റം",
  "സാക്ഷി",
  "തെളിവ്",
  "സൂര്യൻ",
  "ചന്ദ്രൻ",
  "നക്ഷത്രം",
  "ഗ്രഹം",
  "ആകാശം",
  "മേഘം",
  "മഴ",
  "കാറ്റ്",
  "പുഴ",
  "കുളം",
  "പൂവ്",
  "മരം",
  "ഇല",
  "കുരു",
  "വിത്ത്",
  "ചെടി",
  "തൈ",
  "കൃഷി",
  "വയൽ",
  "തോട്ടം",
  "പക്ഷി",
  "മൃഗം",
  "ആന",
  "കഴുത",
  "കുതിര",
  "പൂച്ച",
  "നായ",
  "പാമ്പ്",
  "മീൻ",
  "പുഴു",
  "സഹോദരൻ",
  "സഹോദരി",
  "അച്ഛൻ",
  "അമ്മ",
  "മകൻ",
  "മകൾ",
  "മുത്തശ്ശൻ",
  "മുത്തശ്ശി",
  "ചേട്ടൻ",
  "ചേച്ചി",
  "സ്നേഹം",
  "സന്തോഷം",
  "ദു:ഖം",
  "കോപം",
  "ഭയം",
  "ആശ",
  "വിശ്വാസം",
  "സഹനം",
  "സന്തോഷം",
  "സന്തോഷം",
  "സമയം",
  "മിനിറ്റ്",
  "മണിക്കൂർ",
  "ദിവസം",
  "ആഴ്ച",
  "മാസം",
  "വർഷം",
  "കാലം",
  "തീയതി",
  "സെക്കന്റ്",
  "പഠനം",
  "വിദ്യ",
  "ശിക്ഷണം",
  "പരിശീലനം",
  "അഭ്യാസം",
  "പരീക്ഷ",
  "വിജയം",
  "പരാജയം",
  "ശ്രദ്ധ",
  "ശ്രമം",
  "സഞ്ചാരം",
  "യാത്ര",
  "സന്ദർശനം",
  "വീക്ഷണം",
  "പര്യടനം",
  "സഞ്ചാരി",
  "സഞ്ചാരവഴി",
  "സഞ്ചാരസൗകര്യം",
  "സഞ്ചാരമേഖല",
  "സഞ്ചാരസമയക്രമം",
  "സംഗീതം",
  "നൃത്തം",
  "നാടകം",
  "ചിത്രം",
  "സിനിമ",
  "കവിത",
  "കഥ",
  "നോവൽ",
  "പ്രബന്ധം",
  "ലേഖനം",
  "കമ്പ്യൂട്ടർ",
  "ലാപ്‌ടോപ്പ്",
  "ടാബ്ലറ്റ്",
  "സ്മാർട്ട്ഫോൺ",
  "ഇന്റർനെറ്റ്",
  "വെബ്സൈറ്റ്",
  "ഇമെയിൽ",
  "സോഷ്യൽ മീഡിയ",
  "ആപ്പ്",
  "ഗെയിം",
  "പ്രകൃതി",
  "പരിസ്ഥിതി",
  "മരം",
  "പൂവ്",
  "പുഴ",
  "കുളം",
  "പർവ്വതം",
  "കാട",
  "മൃഗം",
  "പക്ഷി",
  "ഭാഷ",
  "വാക്ക്",
  "വാക്യം",
  "അക്ഷരം",
  "വ്യാകരണം",
  "അർത്ഥം",
  "പരിഭാഷ",
  "വ്യാഖ്യാനം",
  "നിഘണ്ടു",
  "അനുവാദം",
  "ആരോഗ്യം",
  "രോഗം",
  "ചികിത്സ",
  "മരുന്ന്",
  "ഹോസ്പിറ്റൽ",
  "ഡോക്ടർ",
  "നഴ്‌സ്",
  "പരിശോധന",
  "ഓപ്പറേഷൻ",
  "ആംബുലൻസ്",
  "പഠനം",
  "വിദ്യ",
  "അധ്യാപകൻ",
  "വിദ്യാർത്ഥി",
  "പാഠം",
  "പരീക്ഷ",
  "വിജയം",
  "പരാജയം",
  "ശ്രദ്ധ",
  "ശ്രമം",
  "സഞ്ചാരം",
  "യാത്ര",
  "സന്ദർശനം",
  "വീക്ഷണം",
  "പര്യടനം",
  "സഞ്ചാരി",
  "സഞ്ചാരവഴി",
  "സഞ്ചാരസൗകര്യം",
  "സഞ്ചാരമേഖല",
  "സഞ്ചാരസമയക്രമം",
  "സംഗീതം",
  "നൃത്തം",
  "നാടകം",
  "ചിത്രം",
  "സിനിമ",
  "കവിത",
  "കഥ",
  "നോവൽ",
  "പ്രബന്ധം",
  "ലേഖനം",
  "കമ്പ്യൂട്ടർ",
  "ലാപ്‌ടോപ്പ്",
  "ടാബ്ലറ്റ്",
  "സ്മാർട്ട്ഫോൺ",
  "ഇന്റർനെറ്റ്",
  "വെബ്സൈറ്റ്",
  "ഇമെയിൽ",
  "സോഷ്യൽ മീഡിയ",
  "ആപ്പ്",
  "ഗെയിം",
  "പ്രകൃതി",
  "പരിസ്ഥിതി",
  "മരം",
  "പൂവ്",
  "പുഴ",
  "കുളം",
  "പർവ്വതം",
  "കാട",
  "മൃഗം",
  "പക്ഷി",
  "ഭാഷ",
  "വാക്ക്",
  "വാക്യം",
  "അക്ഷരം",
  "വ്യാകരണം",
  "അർത്ഥം",
  "പരിഭാഷ",
  "വ്യാഖ്യാനം",
  "നിഘണ്ടു",
  "അനുവാദം",
];

let words = [];
let randomWord;
let score = 0;
let time = 10;

let difficulty = localStorage.getItem("difficulty") || "medium";
let language = localStorage.getItem("language") || "english";

// Set difficulty and language selects on page load
difficultySelect.value = difficulty;
languageSelect.value = language;

// Set word list based on saved language
words = language === "malayalam" ? malayalamWords : englishWords;

// Timer
const timeInterval = setInterval(updateTime, 1000);

function getRandomWord() {
  return words[Math.floor(Math.random() * words.length)];
}

function addWordToDom() {
  randomWord = getRandomWord();
  word.innerText = randomWord;
}

function updateScore() {
  score++;
  scoreElement.innerText = score;
}

function updateTime() {
  time--;
  timeElement.innerText = time + "s";
  if (time === 0) {
    clearInterval(timeInterval);
    gameOver();
  }
}

function gameOver() {
  endgameElement.innerHTML = `
    <h1>Time ran out</h1>
    <p>Your final score is ${score}</p>
    <button onclick="history.go(0)">Play Again</button>
  `;
  endgameElement.style.display = "flex";
}

text.addEventListener("input", (e) => {
  const insertedText = e.target.value;
  if (insertedText === randomWord) {
    e.target.value = "";
    addWordToDom();
    updateScore();
    if (difficulty === "hard") time += 2;
    else if (difficulty === "medium") time += 3;
    else time += 5;
    updateTime();
  }
});

settingsButton.addEventListener("click", () =>
  settings.classList.toggle("hide")
);

settingsForm.addEventListener("change", (e) => {
  if (e.target.id === "difficulty") {
    difficulty = e.target.value;
    localStorage.setItem("difficulty", difficulty);
  }

  if (e.target.id === "language") {
    language = e.target.value;
    localStorage.setItem("language", language);
    words = language === "malayalam" ? malayalamWords : englishWords;
    addWordToDom();
  }
});

// Init
addWordToDom();
text.focus();
